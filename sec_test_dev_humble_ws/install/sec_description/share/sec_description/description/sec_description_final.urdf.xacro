<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from /home/orion/IEEE_SEC_HW_Competition/sec_test_dev_humble_ws/install/sec_description/share/sec_description/description/sec_description.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="sec_bot">
	<!-- Specify some standard inertial calculations https://en.wikipedia.org/wiki/List_of_moments_of_inertia -->
	<!-- These make use of xacro's mathematical functionality -->
	<!-- Base Footprint -->
	<link name="base_link">

    </link>
	<!-- Robot Base -->
	<link name="chassis">
		<visual>
			<origin rpy="0 0 0" xyz="0 0 0.25"/>
			<geometry>
				<box size="0.5 0.5 0.5"/>
			</geometry>
			<material name="Cyan">
				<color rgba="0 1.0 1.0 1.0"/>
			</material>
		</visual>
		<collision>
			<origin rpy="0 0 0" xyz="0 0 0.25"/>
			<geometry>
				<box size="0.5 0.5 0.5"/>
			</geometry>
		</collision>
		<inertial>
			<origin rpy="0 0 0" xyz="0 0 0.25"/>
			<mass value="10"/>
			<inertia ixx="0.41666666666666663" ixy="0.0" ixz="0.0" iyy="0.41666666666666663" iyz="0.0" izz="0.41666666666666663"/>
		</inertial>
	</link>
	<joint name="base_joint" type="fixed">
		<parent link="base_link"/>
		<child link="chassis"/>
		<origin rpy="0 0 0" xyz="0.0 0.0 0.05"/>
	</joint>
	<link name="b_l_wheel_link">
		<visual>
			<origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
			<geometry>
				<cylinder length="0.1" radius="0.1"/>
			</geometry>
			<material name="Gray">
				<color rgba="0.5 0.5 0.5 1.0"/>
			</material>
		</visual>
		<collision>
			<origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
			<geometry>
				<cylinder length="0.1" radius="0.1"/>
			</geometry>
		</collision>
		<inertial>
			<origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
			<mass value="10"/>
			<inertia ixx="0.03333333333333334" ixy="0.0" ixz="0.0" iyy="0.03333333333333334" iyz="0.0" izz="0.05000000000000001"/>
		</inertial>
	</link>
	<joint name="b_l_wheel_joint" type="continuous">
		<parent link="chassis"/>
		<child link="b_l_wheel_link"/>
		<origin rpy="0 0 0" xyz="-0.125 0.3 0.03"/>
		<axis xyz="0 1 0"/>
	</joint>
	<gazebo reference="b_l_wheel_link">
		<material>Gazebo/Blue</material>
	</gazebo>
	<link name="b_r_wheel_link">
		<visual>
			<origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
			<geometry>
				<cylinder length="0.1" radius="0.1"/>
			</geometry>
			<material name="Gray">
				<color rgba="0.5 0.5 0.5 1.0"/>
			</material>
		</visual>
		<collision>
			<origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
			<geometry>
				<cylinder length="0.1" radius="0.1"/>
			</geometry>
		</collision>
		<inertial>
			<origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
			<mass value="10"/>
			<inertia ixx="0.03333333333333334" ixy="0.0" ixz="0.0" iyy="0.03333333333333334" iyz="0.0" izz="0.05000000000000001"/>
		</inertial>
	</link>
	<joint name="b_r_wheel_joint" type="continuous">
		<parent link="chassis"/>
		<child link="b_r_wheel_link"/>
		<origin rpy="0 0 0" xyz="-0.125 -0.3 0.03"/>
		<axis xyz="0 1 0"/>
	</joint>
	<gazebo reference="b_r_wheel_link">
		<material>Gazebo/Blue</material>
	</gazebo>
	<link name="f_l_wheel_link">
		<visual>
			<origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
			<geometry>
				<cylinder length="0.1" radius="0.1"/>
			</geometry>
			<material name="Gray">
				<color rgba="0.5 0.5 0.5 1.0"/>
			</material>
		</visual>
		<collision>
			<origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
			<geometry>
				<cylinder length="0.1" radius="0.1"/>
			</geometry>
		</collision>
		<inertial>
			<origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
			<mass value="10"/>
			<inertia ixx="0.03333333333333334" ixy="0.0" ixz="0.0" iyy="0.03333333333333334" iyz="0.0" izz="0.05000000000000001"/>
		</inertial>
	</link>
	<joint name="f_l_wheel_joint" type="continuous">
		<parent link="chassis"/>
		<child link="f_l_wheel_link"/>
		<origin rpy="0 0 0" xyz="0.125 0.3 0.03"/>
		<axis xyz="0 1 0"/>
	</joint>
	<gazebo reference="f_l_wheel_link">
		<material>Gazebo/Blue</material>
	</gazebo>
	<link name="f_r_wheel_link">
		<visual>
			<origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
			<geometry>
				<cylinder length="0.1" radius="0.1"/>
			</geometry>
			<material name="Gray">
				<color rgba="0.5 0.5 0.5 1.0"/>
			</material>
		</visual>
		<collision>
			<origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
			<geometry>
				<cylinder length="0.1" radius="0.1"/>
			</geometry>
		</collision>
		<inertial>
			<origin rpy="1.5707963267948966 0 0" xyz="0 0 0"/>
			<mass value="10"/>
			<inertia ixx="0.03333333333333334" ixy="0.0" ixz="0.0" iyy="0.03333333333333334" iyz="0.0" izz="0.05000000000000001"/>
		</inertial>
	</link>
	<joint name="f_r_wheel_joint" type="continuous">
		<parent link="chassis"/>
		<child link="f_r_wheel_link"/>
		<origin rpy="0 0 0" xyz="0.125 -0.3 0.03"/>
		<axis xyz="0 1 0"/>
	</joint>
	<gazebo reference="f_r_wheel_link">
		<material>Gazebo/Blue</material>
	</gazebo>
	<gazebo>
		<plugin filename="libgazebo_ros_diff_drive.so" name="four_wheeled_robot_diff_drive">
			<!-- Number of wheel pairs -->
			<num_wheel_pairs>2</num_wheel_pairs>
			<!-- wheels0 -->
			<left_joint>f_l_wheel_joint</left_joint>
			<right_joint>f_r_wheel_joint</right_joint>
			<!-- wheels1-->
			<left_joint>b_l_wheel_joint</left_joint>
			<right_joint>b_r_wheel_joint</right_joint>
			<!-- kinematics -->
			<wheel_separation>0.5</wheel_separation>
			<wheel_diameter>0.2</wheel_diameter>
			<!-- limits -->
			<max_wheel_torque>200</max_wheel_torque>
			<max_wheel_acceleration>10.0</max_wheel_acceleration>
			<!-- output -->
			<publish_odom>true</publish_odom>
			<publish_odom_tf>true</publish_odom_tf>
			<publish_wheel_tf>true</publish_wheel_tf>
			<odometry_frame>odom</odometry_frame>
			<robot_base_frame>base_link</robot_base_frame>
		</plugin>
	</gazebo>
	<joint name="camera_joint" type="fixed">
		<parent link="chassis"/>
		<child link="camera_link"/>
		<origin rpy="0 0 0" xyz="0.255 0 0.25"/>
	</joint>
	<link name="camera_link">
		<visual>
			<geometry>
				<box size="0.01 0.03 0.03"/>
			</geometry>
			<material name="Gray">
				<color rgba="0.5 0.5 0.5 1.0"/>
			</material>
		</visual>
	</link>
	<joint name="camera_optical_joint" type="fixed">
		<parent link="camera_link"/>
		<child link="camera_link_optical"/>
		<origin rpy="-1.5707963267948966 0 -1.5707963267948966" xyz="0 0 0"/>
	</joint>
	<link name="camera_link_optical"/>
	<gazebo reference="camera_link">
		<material>Gazebo/Red</material>
		<sensor name="camera" type="camera">
			<pose> 0 0 0 0 0 0 </pose>
			<visualize>true</visualize>
			<update_rate>10</update_rate>
			<camera>
				<horizontal_fov>1.089</horizontal_fov>
				<image>
					<format>R8G8B8</format>
					<width>640</width>
					<height>480</height>
				</image>
				<clip>
					<near>0.05</near>
					<far>8.0</far>
				</clip>
			</camera>
			<plugin filename="libgazebo_ros_camera.so" name="camera_controller">
				<frame_name>camera_link_optical</frame_name>
			</plugin>
		</sensor>
	</gazebo>
	<joint name="imu_joint" type="fixed">
		<parent link="chassis"/>
		<child link="imu_link"/>
		<origin rpy="0 0 0" xyz="0 0 0.51"/>
	</joint>
	<link name="imu_link">
		<visual>
			<geometry>
				<box size="0.05 0.05 0.02"/>
			</geometry>
			<material name="Gray">
				<color rgba="0.5 0.5 0.5 1.0"/>
			</material>
		</visual>
	</link>
	<!--        <gazebo reference="imu_link">
            <material>Gazebo/Red</material>
            
            <sensor name="imu_sensor" type="imu">
                <pose>0 0 0 0 0 0</pose>
                <visualize>true</visualize>
                <update_rate>10</update_rate>
                <always_on>true</always_on>
                <topic>imu</topic>
                <plugin name="imu_plugin" filename="libgazebo_ros_imu_sensor.so">
                    <frame_name>imu_link</frame_name>
                </plugin>
            </sensor>   
        </gazebo>-->
	<gazebo reference="imu_link">
		<sensor name="br_imu" type="imu">
			<always_on>true</always_on>
			<update_rate>100</update_rate>
			<imu>
				<angular_velocity>
					<x>
						<noise type="gaussian">
							<mean>0.0</mean>
							<stddev>2e-4</stddev>
						</noise>
					</x>
					<y>
						<noise type="gaussian">
							<mean>0.0</mean>
							<stddev>2e-4</stddev>
						</noise>
					</y>
					<z>
						<noise type="gaussian">
							<mean>0.0</mean>
							<stddev>2e-4</stddev>
						</noise>
					</z>
				</angular_velocity>
				<linear_acceleration>
					<x>
						<noise type="gaussian">
							<mean>0.0</mean>
							<stddev>1.7e-2</stddev>
						</noise>
					</x>
					<y>
						<noise type="gaussian">
							<mean>0.0</mean>
							<stddev>1.7e-2</stddev>
						</noise>
					</y>
					<z>
						<noise type="gaussian">
							<mean>0.0</mean>
							<stddev>1.7e-2</stddev>
						</noise>
					</z>
				</linear_acceleration>
			</imu>
			<plugin filename="libgazebo_ros_imu_sensor.so" name="bytes_imu">
				<ros>
					<namespace>imu</namespace>
					<remapping>~/out:=data</remapping>
				</ros>
				<initial_orientation_as_reference>false</initial_orientation_as_reference>
			</plugin>
		</sensor>
	</gazebo>
</robot>
